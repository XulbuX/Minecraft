# SET COLOR-ID
   execute at @s positioned ~ ~-1 ~ if entity @e[type=interaction,nbt={Tags:["wpm_snake_block"]},distance=...05,sort=nearest,limit=1,tag=id_defined] if score @s wpm_snake_block_before_id = @e[type=interaction,nbt={Tags:["wpm_snake_block"]},distance=...05,sort=nearest,limit=1,tag=id_defined] wpm_snake_block_id run scoreboard players operation @s wpm_color_block_id = @e[type=interaction,nbt={Tags:["wpm_snake_block"]},distance=...05,sort=nearest,limit=1,tag=id_defined] wpm_color_block_id
   execute at @s positioned ~1 ~ ~ if entity @e[type=interaction,nbt={Tags:["wpm_snake_block"]},distance=...05,sort=nearest,limit=1,tag=id_defined] if score @s wpm_snake_block_before_id = @e[type=interaction,nbt={Tags:["wpm_snake_block"]},distance=...05,sort=nearest,limit=1,tag=id_defined] wpm_snake_block_id run scoreboard players operation @s wpm_color_block_id = @e[type=interaction,nbt={Tags:["wpm_snake_block"]},distance=...05,sort=nearest,limit=1,tag=id_defined] wpm_color_block_id
   execute at @s positioned ~-1 ~ ~ if entity @e[type=interaction,nbt={Tags:["wpm_snake_block"]},distance=...05,sort=nearest,limit=1,tag=id_defined] if score @s wpm_snake_block_before_id = @e[type=interaction,nbt={Tags:["wpm_snake_block"]},distance=...05,sort=nearest,limit=1,tag=id_defined] wpm_snake_block_id run scoreboard players operation @s wpm_color_block_id = @e[type=interaction,nbt={Tags:["wpm_snake_block"]},distance=...05,sort=nearest,limit=1,tag=id_defined] wpm_color_block_id
   execute at @s positioned ~ ~ ~1 if entity @e[type=interaction,nbt={Tags:["wpm_snake_block"]},distance=...05,sort=nearest,limit=1,tag=id_defined] if score @s wpm_snake_block_before_id = @e[type=interaction,nbt={Tags:["wpm_snake_block"]},distance=...05,sort=nearest,limit=1,tag=id_defined] wpm_snake_block_id run scoreboard players operation @s wpm_color_block_id = @e[type=interaction,nbt={Tags:["wpm_snake_block"]},distance=...05,sort=nearest,limit=1,tag=id_defined] wpm_color_block_id
   execute at @s positioned ~ ~ ~-1 if entity @e[type=interaction,nbt={Tags:["wpm_snake_block"]},distance=...05,sort=nearest,limit=1,tag=id_defined] if score @s wpm_snake_block_before_id = @e[type=interaction,nbt={Tags:["wpm_snake_block"]},distance=...05,sort=nearest,limit=1,tag=id_defined] wpm_snake_block_id run scoreboard players operation @s wpm_color_block_id = @e[type=interaction,nbt={Tags:["wpm_snake_block"]},distance=...05,sort=nearest,limit=1,tag=id_defined] wpm_color_block_id
   execute at @s positioned ~ ~1 ~ if entity @e[type=interaction,nbt={Tags:["wpm_snake_block"]},distance=...05,sort=nearest,limit=1,tag=id_defined] if score @s wpm_snake_block_before_id = @e[type=interaction,nbt={Tags:["wpm_snake_block"]},distance=...05,sort=nearest,limit=1,tag=id_defined] wpm_snake_block_id run scoreboard players operation @s wpm_color_block_id = @e[type=interaction,nbt={Tags:["wpm_snake_block"]},distance=...05,sort=nearest,limit=1,tag=id_defined] wpm_color_block_id

tag @s add color_id_defined
